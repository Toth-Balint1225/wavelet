# Wavelet transformation project

Requires GCC, CUDA and GNUplot. 
- sequential.cpp contains experimental code and several iterations of the serial implementation
- conv.cu is the basic convolution impementation in CUDA
- wavelet.cu contains iterations of the wavelet transformer

## Compile and run
- Makefile is present for the sequential case. 
- Use `make heat` to compile, run and pipe the result into heat.dat. Then  GNUplot displays the matrix as a heatmap.
  For the heat target, you must only use a single `plot_trafo` function to output the points into a matrix data file
- Use `make plot` to compile, run and pipe the result into plot.dat. Then  GNUplot displays the function.
  For the plot target, you must only use a single `plot_func` function to output the points of a data series.
- Use `make tester` to build the testing version of the program, it will accept command line arguments in this form: `<signal length (sec)> <sampling frequency (Hz)> <spectrum size (#)> [print heatmap (0/1), default 0]`

## Profile CUDA
- Use `nvprof ./wavelet` to get general profiling data about the program.
- Use `nvprof --print-gpu-trace ./wavelet` to get the kernel's execution time. 
- Use `nsys profile ./wavelet` above CUDA compute capability 8.0, if you don't have access to nvprof.
  This will generate a profiling report, that you can use together with nsight compute.
  If you want the nvprof readout, use `nsys nvprof`.

## Testing
### Cards
- **GT720** DONE
- **A100** DONE
- **T4** TODO

### Parameters to be tried
- Length: 10s 20s 30s 40s 50s 60s 70s 80s 90s 100s 110s 120s
- Spectrum size: 64 100 

### Output format
- format generated by the command `nvprof --print-gpu-trace ./tester ...` is desired
- if GPU does not support `nvprof`, use nsight compute (`nsys profile ./tester ...`).
- generate profiling output for every input parameter combination listed above
